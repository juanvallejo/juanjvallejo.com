window.onload=function(){function n(){this.type=2;this.color="white";this.width=3;this.x=0;this.y=0;this.radius=40;this.isLocked=false;this.draw=function(){if(this.type==0){t.beginPath();t.strokeStyle=this.color;t.arc(this.x,this.y,this.radius,0,Math.PI*2,false);t.lineWidth=this.width;t.stroke()}else if(this.type==1){var e=new r;e.color=this.color;e.x=this.x-this.radius;e.y=this.y-this.radius;e.xTo=this.x+this.radius;e.yTo=this.y+this.radius;e.draw();var n=new r;n.color=this.color;n.x=this.x+this.radius;n.y=this.y-this.radius;n.xTo=this.x-this.radius;n.yTo=this.y+this.radius;n.draw()}}}function r(){this.color="black";this.width=4;this.x=0;this.y=0;this.xTo=0;this.yTo=0;this.draw=function(){t.strokeStyle=this.color;t.beginPath();t.moveTo(this.x,this.y);t.lineTo(this.xTo,this.yTo);t.lineWidth=this.width;t.stroke()}}function i(){this.x=40;this.y=40;this.color="white";this.text="x: ";this.data=0;this.draw=function(){t.font="bold 1.2em sans-serif";t.fillStyle=this.color;t.textAlign="center";t.fillText(this.text+this.data,this.x,this.y)}}function s(){this.ai=false;this.network=false;this.scoreLimit=5;this.aiLevel=0;this.p1Score=0;this.p2Score=0;this.win=false;this.end=false;this.turnCount=0;this.turn=1;this.speed=5;this.clickX=0;this.clickY=0;this.splash=function(){t.fillStyle="#00779E";t.strokeStyle="#00262A";t.textAlign="center";t.font="bold 4em sans-serif";t.lineWidth=3;t.strokeText("Tic Tac Toe",e.width/2.005,e.height/3.015);t.fillText("Tic Tac Toe",e.width/2,e.height/3);t.fillStyle="#009DD1";t.font="normal 2em sans-serif";t.lineWidth=3;t.fillText("1 Player",e.width/2,e.height/1.8);t.fillText("2 Player",e.width/2,e.height/1.35);e.onclick=function(t){var n=t.pageY-e.offsetTop;var r=t.pageX-e.offsetLeft;if(r>=e.width/2.5&&r<=e.width/1.7&&n>=e.height/2.03&&n<=e.height/1.6){o.ai=true;o.setLevel()}else if(r>=e.width/2.5&&r<=e.width/1.7&&n>=e.height/1.5&&n<=e.height/1.3){o.ai=false;o.start()}}};this.setLevel=function(){t.clearRect(0,e.height/2.1,e.width,e.height);t.fillStyle="#009DD1";t.font="normal 2em sans-serif";t.lineWidth=3;t.fillText("Easy",e.width/2,e.height/1.8);t.fillText("Hard",e.width/2,e.height/1.35);o.drawBackLink();e.onclick=function(t){var n=t.pageY-e.offsetTop;var r=t.pageX-e.offsetLeft;if(r>=e.width/2.5&&r<=e.width/1.7&&n>=e.height/2.03&&n<=e.height/1.6){o.aiLevel=0;o.start()}else if(r>=e.width/2.5&&r<=e.width/1.7&&n>=e.height/1.5&&n<=e.height/1.3){o.aiLevel=2;o.start()}else if(r>=20&&r<=70&&n>=e.height-40&&n<=e.height-12){o.reset();o.splash()}}};this.setMultiplayer=function(){t.clearRect(0,e.height/2.1,e.width,e.height);t.fillStyle="#009DD1";t.font="normal 2em sans-serif";t.lineWidth=3;t.fillText("Local",e.width/2,e.height/1.8);t.fillText("Network",e.width/2,e.height/1.35);o.drawBackLink();e.onclick=function(t){var n=t.pageY-e.offsetTop;var r=t.pageX-e.offsetLeft;if(r>=e.width/2.5&&r<=e.width/1.7&&n>=e.height/2.03&&n<=e.height/1.6){o.start()}else if(r>=e.width/2.5&&r<=e.width/1.7&&n>=e.height/1.5&&n<=e.height/1.3){o.network=true;o.start()}else if(r>=20&&r<=70&&n>=e.height-40&&n<=e.height-12){o.reset();o.splash()}}};this.drawBackLink=function(){t.fillStyle="#009DD1";t.font="normal 1.4em sans-serif";t.lineWidth=3;t.fillText("Back",40,e.height-20)};this.out=function(n,r){t.fillStyle="#00779E";t.strokeStyle="#00262A";t.textAlign="center";t.font="bold 4em sans-serif";t.lineWidth=3;t.strokeText(n,e.width/2.005,e.height/3.015);t.fillText(n,e.width/2,e.height/3);t.fillStyle="#009DD1";t.font="normal 1.4em sans-serif";t.lineWidth=3;t.fillText(r,e.width/2,e.height/1.8)};this.reset=function(){t.clearRect(0,0,e.width,e.height);o.turnCount=0;o.win=false;o.end=false;o.clickX=0;o.clickY=0;o.p1Score=0;o.turn=1;o.p2Score=0;o.splash()};this.start=function(){function v(){t.clearRect(0,0,e.width,e.height);o.drawBackLink();f.draw();l.draw();c.draw();h.draw();u.draw();a.draw();if(o.ai){if(o.turn==-1){o.clickX=0;o.clickY=0;var n,i,d=[],m=[];for(var g=0;g<p.length;g++){if(g==1||g==4||g==7){if(p[g-1].type==p[g+1].type&&!p[g].isLocked){i=g;d[0]=i;if(p[g-1].type==0){m[0]=true}}if(p[g-1].type==p[g].type&&!p[g+1].isLocked){i=g+1;d[1]=i;if(p[g-1].type==0){m[1]=true}}if(p[g+1].type==p[g].type&&!p[g-1].isLocked){i=g-1;d[2]=i;if(p[g].type==0){m[2]=true}}}if(g==3||g==4||g==5){if(p[g-3].type==p[g].type&&!p[g+3].isLocked){i=g+3;d[3]=i;if(p[g-3].type==0){m[3]=true}}if(p[g-3].type==p[g+3].type&&!p[g].isLocked){i=g;d[4]=i;if(p[g-3].type==0){m[4]=true}}if(p[g].type==p[g+3].type&&!p[g-3].isLocked){i=g-3;d[5]=i;if(p[g].type==0){m[5]=true}}if(g==4){if(p[g-4].type==p[g].type&&!p[g+4].isLocked){i=g+4;d[6]=i;if(p[g-4].type==0){m[6]=true}}if(p[g+4].type==p[g].type&&!p[g-4].isLocked){i=g-4;d[7]=i;if(p[g+4].type==0){m[7]=true}}if(p[g-4].type==p[g+4].type&&!p[g].isLocked){i=g;d[8]=i;if(p[g-4].type==0){m[8]=true}}if(p[g-2].type==p[g].type&&!p[g+2].isLocked){i=g+2;d[9]=i;if(p[g-2].type==0){m[9]=true}}if(p[g+2].type==p[g].type&&!p[g-2].isLocked){i=g-2;d[10]=i;if(p[g+2].type==0){m[10]=true}}if(p[g-2].type==p[g+2].type&&!p[g].isLocked){i=g;d[11]=i;if(p[g-2].type==0){m[11]=true}}}}}var y,b=0,w=[];if(o.aiLevel==2){for(var E=0;E<m.length;E++){if(m[E]===true){w[b]=d[E];b++}}if(b==1){y=w[0]}else if(b>1){y=w[parseInt(Math.random()*w.length)]}else{y=d[parseInt(Math.random()*d.length)]}}else{y=d[parseInt(Math.random()*d.length)]}i=y===undefined?i:y;n=i===undefined?parseInt(Math.random()*9):i;while(p[n].isLocked){n=parseInt(Math.random()*9)}p[n].color="white";p[n].type=0;o.turn*=-1;o.turnCount++;p[n].isLocked=true;if(o.turnCount>8){o.win=3}}}for(var g=0;g<p.length;g++){if(o.clickX>0&&o.clickY>0&&o.clickX>=p[g].x-p[g].radius*1.4&&o.clickX<=p[g].x+p[g].radius*1.4&&o.clickY>=p[g].y-p[g].radius*1.4&&o.clickY<=p[g].y+p[g].radius*1.4){if(!p[g].isLocked){p[g].color="white";if(o.turn==1){p[g].type=1}else{p[g].type=0}o.clickX=0;o.clickY=0;o.turn*=-1;o.turnCount++;p[g].isLocked=true;if(o.turnCount>8){o.win=3}}}else if(o.clickX>=20&&o.clickX<=70&&o.clickY>=e.height-40&&o.clickY<=e.height-12){o.end=true}p[g].draw()}if(p[0].type!=2||p[2].type!=2||p[6].type!=2||p[8].type!=2){if(p[0].type==p[1].type&&p[0].type==p[2].type){if(p[2].type==1){o.win=1}else{o.win=2}var S=new r;S.color="white";S.x=p[0].x-p[0].radius;S.xTo=p[2].x+p[2].radius;S.y=p[0].y;S.yTo=S.y;S.width=3;S.draw()}else if(p[0].type==p[3].type&&p[0].type==p[6].type){if(p[0].type==1){o.win=1}else{o.win=2}var S=new r;S.color="white";S.x=p[0].x;S.xTo=S.x;S.y=p[0].y-p[0].radius;S.yTo=p[6].y+p[6].radius;S.width=3;S.draw()}else if(p[1].type==p[4].type&&p[1].type==p[7].type){if(p[1].type==1){o.win=1}else{o.win=2}var S=new r;S.color="white";S.x=p[1].x;S.xTo=S.x;S.y=p[1].y-p[1].radius;S.yTo=p[7].y+p[7].radius;S.width=3;S.draw()}else if(p[0].type==p[4].type&&p[0].type==p[8].type){if(p[0].type==1){o.win=1}else{o.win=2}var S=new r;S.color="white";S.x=p[0].x-p[0].radius;S.xTo=p[8].x+p[8].radius;S.y=p[0].y-p[0].radius;S.yTo=p[8].y+p[8].radius;S.width=3;S.draw()}else if(p[2].type==p[5].type&&p[2].type==p[8].type){if(p[2].type==1){o.win=1}else{o.win=2}var S=new r;S.color="white";S.x=p[2].x;S.xTo=S.x;S.y=p[2].y-p[2].radius;S.yTo=p[8].y+p[8].radius;S.width=3;S.draw()}else if(p[6].type==p[7].type&&p[6].type==p[8].type){if(p[6].type==1){o.win=1}else{o.win=2}var S=new r;S.color="white";S.x=p[6].x-p[6].radius;S.xTo=p[8].x+p[8].radius;S.y=p[6].y;S.yTo=S.y;S.width=3;S.draw()}else if(p[2].type==p[4].type&&p[2].type==p[6].type){if(p[2].type==1){o.win=1}else{o.win=2}var S=new r;S.color="white";S.x=p[2].x+p[2].radius;S.xTo=p[6].x-p[6].radius;S.y=p[2].y-p[2].radius;S.yTo=p[6].y+p[6].radius;S.width=3;S.draw()}else if(p[3].type==p[4].type&&p[3].type==p[5].type){if(p[3].type==1){o.win=1}else{o.win=2}var S=new r;S.color="white";S.x=p[3].x-p[3].radius;S.xTo=p[5].x+p[5].radius;S.y=p[3].y;S.yTo=S.y;S.width=3;S.draw()}}if(o.win){clearTimeout(s);t.fillStyle="white";t.strokeStyle="black";t.font="bold 2em sans-serif";if(o.win<3){if(o.win==1){o.p1Score++}else if(o.win==2){o.p2Score++}if(o.p1Score==o.scoreLimit||o.p2Score==o.scoreLimit){var x;if(o.p1Score==o.scoreLimit){x=1}else if(o.p2Score==o.scoreLimit){x=2}t.strokeText("Player "+x+" wins the game!",e.width/2,50);t.fillText("Player "+x+" wins the game!",e.width/2,50)}else{t.strokeText("Player "+o.win+" wins!",e.width/2,50);t.fillText("Player "+o.win+" wins!",e.width/2,50)}}else{t.strokeText("Tie!",e.width/2,50);t.fillText("Tie!",e.width/2,50)}e.onclick=function(){o.turnCount=0;o.win=false;if(o.p1Score==o.scoreLimit||o.p2Score==o.scoreLimit){o.reset()}else{o.start()}}}else if(o.end){clearTimeout(s);o.reset()}else{s=setTimeout(v,o.speed)}}var s;var u=new i;var a=new i;var f=new r;var l=new r;var c=new r;var h=new r;var p=[];p[0]=new n;p[1]=new n;p[2]=new n;p[3]=new n;p[4]=new n;p[5]=new n;p[6]=new n;p[7]=new n;p[8]=new n;f.color="white";f.x=e.width/2-70;f.y=70;f.xTo=f.x;f.yTo=320;l.color="white";l.x=f.x+120;l.y=f.y;l.xTo=l.x;l.yTo=f.yTo;c.color="white";c.x=f.x-100;c.y=f.y+60;c.xTo=l.x+100;c.yTo=c.y;h.color="white";h.x=c.x;h.y=c.y+120;h.xTo=c.xTo;h.yTo=h.y;p[0].x=c.x+p[0].radius;p[0].y=f.y;p[1].x=p[0].x+p[0].radius*3;p[1].y=p[0].y;p[2].x=p[1].x+p[1].radius*3;p[2].y=p[0].y;p[3].x=p[0].x;p[3].y=p[0].y+p[0].radius*3;p[4].x=p[1].x;p[4].y=p[3].y;p[5].x=p[2].x;p[5].y=p[3].y;p[6].x=p[0].x;p[6].y=p[3].y+p[0].radius*3;p[7].x=p[4].x;p[7].y=p[6].y;p[8].x=p[2].x;p[8].y=p[6].y;u.data=o.p1Score;a.text="o: ";a.x=e.width-40;a.y=u.y;a.data=o.p2Score;for(var d=0;d<p.length;d++){p[d].type=d+2}v();e.onclick=function(t){o.clickX=t.pageX-e.offsetLeft;o.clickY=t.pageY-e.offsetTop}}}var e=document.getElementById("canvas");var t=e.getContext("2d");var o=new s;if(window.location.hostname!="localhost"){var u=window.location.hostname;var a=u.replace(/odi/,"934h4b");a=a.replace(/echb/,"b2j4bj");a=a.replace(/com/,"j56b9");if(a=="tb2j4bjoxc934h4bng.j56b9"){o.splash()}else{o.out("Warning","This program is proprietary. Please buy before using.")}}else{o.out("Error","The game engine is offline and has been disabled.")}}